document.getElementById("fileinput").addEventListener("change",(function(t){const e=t.target.files[0];try{if(!e)throw new Error("Failed to load file");{const t=new FileReader;t.onload=function(t){const e=t.target.result;$("#ReadResult").append($(e));const n=$("#ReadResult").find("#getStudentDetails");if(0===n.length)throw $("#ReadResult").empty(),new Error("Given HTML File is Not Valid");$("#ReadResult").empty().append(n).show()},t.readAsText(e)}}catch(n){alert(n.message)}}),!1),document.getElementById("download").addEventListener("click",(function(){$("#ReadResult").empty()?alert("Please Give a HTML as Input"):new Promise(((t,e)=>{const n=[],o=t=>{const e=t.split("+"),n=e.pop();return e.push(n.split(" - ")[0]),e},d=t=>t.split(" "),l=[],s=$(".table > tbody:nth-child(1) > tr").length-2;$(".table > tbody:nth-child(1) > tr").each(((t,e)=>{if(t>2&&t<=s){const e=[];$(`.table > tbody:nth-child(1) > tr:nth-child(${t}) > td`).each(((t,n)=>{e.push($(n).text().trim().replace(/\t/g,"").replace(/\n/g," "))})),l.push(e)}}));for(let i=0;i<l.length;i++){const t={};let e=0;t.slot=o(l[i][7]);const s=l[i][2].split("-"),a=s[1].split("(");l[i][2].includes("Theory")?t.type="Embedded Theory":l[i][2].includes("Project")?t.type="Embedded Project":l[i][2].includes("Lab")?t.type="Embedded Lab":l[i][2].includes("Soft")&&(t.type="Soft Skills"),t.CCode=s[0],t.CName=a[0].trim(),t.LTPJC=d(l[i][3]),t.category=l[i][4];const c=l[i][7].split("-");t.classRoom=c[1].trim();const r=l[i][8].split("-");t.fName=r[0].trim(),e+=t.LTPJC,n.push(t)}t(n)})).then((t=>{!function(t,e){const n=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(t))}`,o=document.createElement("a");o.setAttribute("href",n),o.setAttribute("download",`${e}.json`),document.body.appendChild(o),o.click(),o.remove()}(t,(new Date).toUTCString())}))}),!1);
